<?php
/**
 * Genesis Framework.
 *
 * WARNING: This file is part of the core Genesis Framework. DO NOT edit this file under any circumstances.
 * Please do all modifications in the form of a child theme.
 *
 * @package StudioPress\Genesis
 * @author  StudioPress
 * @license GPL-2.0-or-later
 * @link    https://my.studiopress.com/themes/genesis/
 */

namespace StudioPress\Genesis\Tests\Unit;

use Brain\Monkey\Functions;

/**
 * Test option/settings functions.
 *
 * @group settings
 */
class Breadcrumb extends TestCase {

	/**
	 * Test `genesis_breadcrumb_options_enabled` provides expected active options.
	 *
	 * @dataProvider data_genesis_breadcrumb_options_enabled
	 *
	 * @param string $genesis_options Genesis option examples.
	 * @param mixed  $expected        The expected breadcrumbs options with active status.
	 */
	public function test_genesis_breadcrumb_options_enabled( $genesis_options, $expected ) {
		Functions\when( 'get_option' )->justReturn( $genesis_options );

		$actual = genesis_breadcrumb_options_enabled();
		self::assertEquals( $expected, $actual );
	}

	/**
	 * Data provider for `test_genesis_breadcrumb_options_enabled()`.
	 *
	 * @return array
	 */
	public function data_genesis_breadcrumb_options_enabled() {
		return [
			'No breadcrumb options present or active'      => [
				[
					'update'          => 1,
					'site_layout'     => 'content-sidebar',
					'comments_pages'  => 0,
					'comments_posts'  => 1,
					'content_archive' => 'full',
					'image_alignment' => 'alignleft',
				],
				[],
			],
			'One breadcrumb option present and active'     => [
				[
					'update'          => 1,
					'site_layout'     => 'content-sidebar',
					'breadcrumb_home' => 1,
					'comments_pages'  => 0,
					'comments_posts'  => 1,
					'content_archive' => 'full',
					'image_alignment' => 'alignleft',
				],
				[ 'breadcrumb_home' ],
			],
			'One breadcrumb option present but not active' => [
				[
					'update'          => 1,
					'site_layout'     => 'content-sidebar',
					'breadcrumb_home' => 0,
					'comments_pages'  => 0,
					'comments_posts'  => 1,
					'content_archive' => 'full',
					'image_alignment' => 'alignleft',
				],
				[],
			],
			'Multiple breadcrumb options present with mixed active status' => [
				[
					'update'                => 1,
					'site_layout'           => 'content-sidebar',
					'breadcrumb_home'       => 0,
					'breadcrumb_front_page' => 1,
					'breadcrumb_posts_page' => 1,
					'breadcrumb_single'     => 1,
					'breadcrumb_page'       => 1,
					'breadcrumb_archive'    => 0,
					'breadcrumb_404'        => 0,
					'breadcrumb_attachment' => 0,
					'comments_pages'        => 0,
					'comments_posts'        => 1,
					'content_archive'       => 'full',
					'image_alignment'       => 'alignleft',
				],
				[ 'breadcrumb_front_page', 'breadcrumb_posts_page', 'breadcrumb_single', 'breadcrumb_page' ],
			],
		];
	}

}
