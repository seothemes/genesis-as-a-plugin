#!/usr/bin/env bash
#
# Check XML files.
#
# @link http://xmlsoft.org/xmllint.html
#
# On macOS, do `brew install libxml2` to install xmllint.
#
# EXAMPLE TO RUN LOCALLY:
#
#   ./bin/xml-lint
#

# Validate the ruleset XML file.
xmllint --noout --schema ./vendor/squizlabs/php_codesniffer/phpcs.xsd phpcs.xml.dist

# Check the code-style consistency of the XML files.
# Includes setting the xmllint indent string to be a tab character.
diff -B --tabsize=4 phpcs.xml.dist <(XMLLINT_INDENT=$'\t' xmllint --format "phpcs.xml.dist")
