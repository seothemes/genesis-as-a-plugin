!function(document,$){"use strict";var genesisMenuParams="undefined"==typeof genesis_responsive_menu?"":genesis_responsive_menu,genesisMenusUnchecked=genesisMenuParams.menuClasses,genesisMenus={},menusToCombine=[];$.each(genesisMenusUnchecked,function(group){genesisMenus[group]=[],$.each(this,function(key,value){var menuString=value,$menu=$(value);1<$menu.length?$.each($menu,function(key,value){var newString=menuString+"-"+key;$(this).addClass(newString.replace(".","")),genesisMenus[group].push(newString),"combine"===group&&menusToCombine.push(newString)}):1===$menu.length&&(genesisMenus[group].push(menuString),"combine"===group&&menusToCombine.push(menuString))})}),void 0===genesisMenus.others&&(genesisMenus.others=[]),1===menusToCombine.length&&(genesisMenus.others.push(menusToCombine[0]),genesisMenus.combine=null,menusToCombine=null);var genesisMenu={},mainMenuButtonClass="menu-toggle",responsiveMenuClass="genesis-responsive-menu";function _doResize(){var buttons=$('button[id^="genesis-mobile-"]').attr("id");void 0!==buttons&&(function(buttons){if("none"!==_getDisplayValue(buttons))return;$("."+mainMenuButtonClass+", ."+responsiveMenuClass+" .sub-menu-toggle").removeClass("activated").attr("aria-expanded",!1).attr("aria-pressed",!1),$("."+responsiveMenuClass+", ."+responsiveMenuClass+" .sub-menu").attr("style","")}(buttons),function(buttons){var _superfish=$("."+responsiveMenuClass+" .js-superfish"),$args="destroy";if("function"!=typeof _superfish.superfish)return;"none"===_getDisplayValue(buttons)&&($args={delay:100,animation:{opacity:"show",height:"show"},dropShadows:!1,speed:"fast"});_superfish.superfish($args)}(buttons),function(buttons){var menuToggleList=_getAllMenusArray();if(0<!$(menuToggleList).length)return;$.each(menuToggleList,function(key,value){var newValue=value.replace(".",""),startLink="genesis-"+newValue,endLink="genesis-mobile-"+newValue;"none"===_getDisplayValue(buttons)&&(startLink="genesis-mobile-"+newValue,endLink="genesis-"+newValue);var $item=$('.genesis-skip-link a[href="#'+startLink+'"]');if(null!==menusToCombine&&value!==menusToCombine[0]&&$item.toggleClass("skip-link-hidden"),0<$item.length){var link=$item.attr("href");link=link.replace(startLink,endLink),$item.attr("href",link)}})}(buttons),function(buttons){if(null===menusToCombine)return;var primaryMenu=menusToCombine[0],combinedMenus=$(menusToCombine).filter(function(index){if(0<index)return index});"none"!==_getDisplayValue(buttons)?($.each(combinedMenus,function(key,value){$(value).find(".menu > li").addClass("moved-item-"+value.replace(".","")).appendTo(primaryMenu+" ul.genesis-nav-menu")}),$(_getMenuSelectorString(combinedMenus)).hide()):($(_getMenuSelectorString(combinedMenus)).show(),$.each(combinedMenus,function(key,value){$(".moved-item-"+value.replace(".","")).appendTo(value+" ul.genesis-nav-menu").removeClass("moved-item-"+value.replace(".",""))}))}(buttons))}function _addClassID(){var $this=$(this),nav=$this.next("nav");$this.attr("id","genesis-mobile-"+$(nav).attr("class").match(/nav-\w*\b/))}function _mainmenuToggle(){var $this=$(this),animation=void 0!==genesisMenuParams.menuAnimation?genesisMenuParams.menuAnimation:{};if(_toggleAria($this,"aria-pressed"),_toggleAria($this,"aria-expanded"),$this.toggleClass("activated"),$this.next("nav").toggleClass("nav-visible"),animation){var effect=void 0!==animation.effect?animation.effect:"slideToggle";$this.next("nav")[effect](animation)}}function _submenuToggle(){var $this=$(this),others=$this.closest(".menu-item").siblings(),animation=void 0!==genesisMenuParams.subMenuAnimation?genesisMenuParams.subMenuAnimation:{};if(_toggleAria($this,"aria-pressed"),_toggleAria($this,"aria-expanded"),$this.toggleClass("activated"),$this.next(".sub-menu").toggleClass("sub-menu-visible"),animation){var effect=void 0!==animation.effect?animation.effect:"slideToggle";$this.next(".sub-menu")[effect](animation)}if(others.find(".sub-menu-toggle").removeClass("activated").attr("aria-pressed","false"),others.find(".sub-menu").removeClass("sub-menu-visible"),void 0!==effect){var hideFunction="slideToggle"===effect?"slideUp":"fadeToggle"===effect&&"fadeOut";others.find(".sub-menu")[hideFunction](animation)}}function _getDisplayValue($id){var element=document.getElementById($id);return window.getComputedStyle(element).getPropertyValue("display")}function _toggleAria($this,attribute){$this.attr(attribute,function(index,value){return"false"===value})}function _getMenuSelectorString(itemArray){return $.map(itemArray,function(value,key){return value}).join(",")}function _getAllMenusArray(){var menuList=[];return null!==menusToCombine&&$.each(menusToCombine,function(key,value){menuList.push(value.valueOf())}),$.each(genesisMenus.others,function(key,value){menuList.push(value.valueOf())}),0<menuList.length?menuList:null}genesisMenu.init=function(){if(0!==$(_getAllMenusArray()).length){var menuIconClass=void 0!==genesisMenuParams.menuIconClass?genesisMenuParams.menuIconClass:"dashicons-before dashicons-menu",subMenuIconClass=void 0!==genesisMenuParams.subMenuIconClass?genesisMenuParams.subMenuIconClass:"dashicons-before dashicons-arrow-down-alt2",toggleButtons={menu:$("<button />",{class:mainMenuButtonClass,"aria-expanded":!1,"aria-pressed":!1}).append(genesisMenuParams.mainMenu),submenu:$("<button />",{class:"sub-menu-toggle","aria-expanded":!1,"aria-pressed":!1}).append($("<span />",{class:"screen-reader-text",text:genesisMenuParams.subMenu}))};$(_getMenuSelectorString(genesisMenus)).addClass(responsiveMenuClass),function(toggleButtons){if($(_getMenuSelectorString(genesisMenus)).find(".sub-menu").before(toggleButtons.submenu),null!==menusToCombine){var menusToToggle=genesisMenus.others.concat(menusToCombine[0]);$(_getMenuSelectorString(menusToToggle)).before(toggleButtons.menu)}else $(_getMenuSelectorString(genesisMenus.others)).before(toggleButtons.menu)}(toggleButtons);var mainMenuButton=$("."+mainMenuButtonClass),subMenuButton=$(".sub-menu-toggle");mainMenuButton.addClass(menuIconClass),subMenuButton.addClass(subMenuIconClass),mainMenuButton.on("click.genesisMenu-mainbutton",_mainmenuToggle).each(_addClassID),subMenuButton.on("click.genesisMenu-subbutton",_submenuToggle),$(window).on("resize.genesisMenu",_doResize).triggerHandler("resize.genesisMenu")}},$(document).ready(function(){null!==_getAllMenusArray()&&genesisMenu.init()})}(document,jQuery);